<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Up</title>
<link rel="icon" href="images/favicon.png" type="image/png">

    <title>الموقع تحت التطوير</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Tajawal&display=swap"
      rel="stylesheet"
    />
    <style>
      *, *::before, *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        min-height: 100vh;
        font-family: "Tajawal", sans-serif;
        background: linear-gradient(
            rgba(0, 0, 0, 0.5),
            rgba(0, 0, 0, 0.5)
          ),
          url("https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=1950&q=80")
            no-repeat center center/cover;
        color: #fff;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 20px;
      }
      .container {
        background: rgba(0, 0, 0, 0.9);
        border-radius: 15px;
        padding: 20px 30px;
        max-width: 700px;
        width: 100%;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.8);
      }
      h1 {
        font-size: 2.5rem;
        margin-bottom: 10px;
        text-align: center;
      }
      p {
        font-size: 1.2rem;
        margin-bottom: 20px;
        text-align: center;
      }
      #timer {
        font-size: 2rem;
        font-weight: bold;
        margin-bottom: 25px;
        text-align: center;
      }

      /* Tabs style */
      .tabs {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 20px;
      }
      .tab {
        padding: 10px 18px;
        border-radius: 10px;
        cursor: pointer;
        background: #222;
        color: #eee;
        font-weight: bold;
        user-select: none;
        transition: background 0.3s ease;
      }
      .tab.active,
      .tab:hover {
        background: #ff9800;
        color: #111;
      }

      /* Games container */
      .game {
        display: none;
      }
      .game.active {
        display: block;
      }

      /* XO Game */
      #xoBoard {
        display: grid;
        grid-template-columns: repeat(3, 80px);
        grid-template-rows: repeat(3, 80px);
        gap: 8px;
        justify-content: center;
        margin-bottom: 10px;
      }
      .xoCell {
        background: #333;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 2.8rem;
        cursor: pointer;
        border-radius: 10px;
        user-select: none;
        transition: background 0.3s ease;
      }
      .xoCell:hover {
        background: #ffb74d;
      }
      #xoStatus {
        margin-bottom: 10px;
        font-weight: bold;
        font-size: 1.1rem;
      }
      #xoResetBtn {
        padding: 8px 15px;
        border: none;
        border-radius: 8px;
        background: #ff9800;
        color: #111;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.3s ease;
      }
      #xoResetBtn:hover {
        background: #e67e22;
      }

      /* Memory Game */
      #memoryBoard {
        display: grid;
        grid-template-columns: repeat(4, 80px);
        grid-template-rows: repeat(3, 80px);
        gap: 10px;
        justify-content: center;
        margin-bottom: 10px;
      }
      .memoryCard {
        background: #333;
        border-radius: 12px;
        font-size: 2.2rem;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        user-select: none;
        transition: background 0.3s ease;
      }
      .memoryCard.flipped {
        background: #ff9800;
        color: #111;
        cursor: default;
      }
      #memoryStatus {
        margin-bottom: 10px;
        font-weight: bold;
        font-size: 1.1rem;
        min-height: 24px;
      }
      #memoryResetBtn {
        padding: 8px 15px;
        border: none;
        border-radius: 8px;
        background: #ff9800;
        color: #111;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.3s ease;
      }
      #memoryResetBtn:hover {
        background: #e67e22;
      }

      /* Catch Game */
      #catchGame {
        position: relative;
        width: 350px;
        height: 250px;
        background: #222;
        border-radius: 15px;
        margin: 0 auto 10px;
        user-select: none;
        overflow: hidden;
      }
      #catchBox {
        position: absolute;
        width: 50px;
        height: 50px;
        background: #ff9800;
        border-radius: 12px;
        cursor: pointer;
        transition: background 0.2s ease;
      }
      #catchScore {
        text-align: center;
        margin-bottom: 10px;
        font-weight: bold;
        font-size: 1.1rem;
      }
      #catchResetBtn {
        display: block;
        margin: 0 auto;
        padding: 8px 15px;
        border: none;
        border-radius: 8px;
        background: #ff9800;
        color: #111;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.3s ease;
      }
      #catchResetBtn:hover {
        background: #e67e22;
      }

      /* Dinosaur Game */
      #dinoCanvas {
        background-color: #1a1a1a;
        border-radius: 12px;
        display: block;
        margin: 0 auto 10px;
        user-select: none;
      }
      #dinoResetBtn {
        display: block;
        margin: 0 auto;
        padding: 8px 15px;
        border: none;
        border-radius: 8px;
        background: #ff9800;
        color: #111;
        font-weight: bold;
        cursor: pointer;
        transition: background 0.3s ease;
      }
      #dinoResetBtn:hover {
        background: #e67e22;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>🚧 الموقع تحت التطوير 🚧</h1>
      <p>
        نعتذر على الانقطاع المؤقت، نعمل على تحسينات مميزة ليظهر الموقع
        قريباً.
      </p>
      <div id="timer">00 يوم 00 : 00 : 00</div>

      <button id="playBtn" style="display: block; margin: 0 auto 30px; padding: 10px 20px; font-size: 1.3rem; font-weight: bold; border: none; border-radius: 12px; background: #ff9800; color: #111; cursor: pointer;">
        🎮 العب الآن
      </button>

      <div id="gamesSection" style="display: none;">
        <div class="tabs">
          <div class="tab active" data-target="xoGame">XO ذكي</div>
          <div class="tab" data-target="memoryGame">لعبة الذاكرة</div>
          <div class="tab" data-target="catchGameContainer">اضغط المربع</div>
          <div class="tab" data-target="dinoGameContainer">لعبة الديناصور</div>
        </div>

        <!-- XO Game -->
        <div class="game active" id="xoGame">
          <div id="xoStatus">دورك: X</div>
          <div id="xoBoard"></div>
          <button id="xoResetBtn">إعادة تشغيل XO</button>
        </div>

        <!-- Memory Game -->
        <div class="game" id="memoryGame">
          <div id="memoryStatus"></div>
          <div id="memoryBoard"></div>
          <button id="memoryResetBtn">إعادة تشغيل الذاكرة</button>
        </div>

        <!-- Catch Game -->
        <div class="game" id="catchGameContainer" style="text-align:center;">
          <div id="catchGame">
            <div id="catchBox"></div>
          </div>
          <div id="catchScore">النقاط: 0</div>
          <button id="catchResetBtn">إعادة تشغيل اضغط المربع</button>
        </div>

        <!-- Dinosaur Game -->
        <div class="game" id="dinoGameContainer" style="text-align:center;">
          <canvas id="dinoCanvas" width="500" height="150" tabindex="0"></canvas>
          <button id="dinoResetBtn">إعادة تشغيل الديناصور</button>
        </div>
      </div>
    </div>

    <script>
      // ******************
      // عداد الوقت للتطوير
      // ******************
      const targetDate = new Date("2025-10-05T12:00:00").getTime();
      const timerEl = document.getElementById("timer");

      function updateTimer() {
        const now = new Date().getTime();
        const distance = targetDate - now;

        if (distance <= 0) {
          timerEl.textContent = "انتهى التحديث!";
          clearInterval(interval);
          return;
        }

        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((distance % (1000 * 60)) / 1000);

        timerEl.textContent = `${days} يوم ${hours
          .toString()
          .padStart(2, "0")} : ${minutes.toString().padStart(2, "0")} : ${seconds
          .toString()
          .padStart(2, "0")}`;
      }

      const interval = setInterval(updateTimer, 1000);
      updateTimer();

      // ******************
      // زر تشغيل الألعاب
      // ******************
      const playBtn = document.getElementById("playBtn");
      const gamesSection = document.getElementById("gamesSection");

      playBtn.addEventListener("click", () => {
        playBtn.style.display = "none";
        gamesSection.style.display = "block";
      });

      // ******************
      // نظام التبويبات
      // ******************
      const tabs = document.querySelectorAll(".tab");
      const games = document.querySelectorAll(".game");

      tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          tabs.forEach((t) => t.classList.remove("active"));
          games.forEach((g) => g.classList.remove("active"));

          tab.classList.add("active");
          const target = document.getElementById(tab.dataset.target);
          target.classList.add("active");

          // إعادة تشغيل اللعبة المختارة تلقائياً
          switch (tab.dataset.target) {
            case "xoGame":
              resetXO();
              break;
            case "memoryGame":
              resetMemory();
              break;
            case "catchGameContainer":
              resetCatch();
              break;
            case "dinoGameContainer":
              resetDino();
              break;
          }
        });
      });

      // ******************
      // لعبة XO ذكي
      // ******************
      const xoBoard = document.getElementById("xoBoard");
      const xoStatus = document.getElementById("xoStatus");
      const xoResetBtn = document.getElementById("xoResetBtn");

      let xoBoardState = Array(9).fill(null);
      let xoTurn = "X"; // المستخدم يبدأ بـ X
      let xoGameOver = false;

      function checkXOWinner(board) {
        const lines = [
          [0, 1, 2],
          [3, 4, 5],
          [6, 7, 8],
          [0, 3, 6],
          [1, 4, 7],
          [2, 5, 8],
          [0, 4, 8],
          [2, 4, 6],
        ];
        for (let line of lines) {
          const [a, b, c] = line;
          if (
            board[a] &&
            board[a] === board[b] &&
            board[a] === board[c]
          ) {
            return board[a];
          }
        }
        if (board.every((cell) => cell !== null)) return "tie";
        return null;
      }

      function xoMakeMove(index, player) {
        if (xoBoardState[index] || xoGameOver) return false;
        xoBoardState[index] = player;
        renderXO();
        return true;
      }

      function xoComputerMove() {
        // استخدام Minimax لخوارزمية ذكية
        function minimax(board, player) {
          const winner = checkXOWinner(board);
          if (winner === "X") return { score: -10 };
          if (winner === "O") return { score: 10 };
          if (winner === "tie") return { score: 0 };

          let moves = [];

          for (let i = 0; i < board.length; i++) {
            if (!board[i]) {
              let newBoard = board.slice();
              newBoard[i] = player;
              let result = minimax(newBoard, player === "O" ? "X" : "O");
              moves.push({ index: i, score: result.score });
            }
          }

          if (player === "O") {
            // Maximize
            let maxMove = moves.reduce(
              (max, move) => (move.score > max.score ? move : max),
              moves[0]
            );
            return maxMove;
          } else {
            // Minimize
            let minMove = moves.reduce(
              (min, move) => (move.score < min.score ? move : min),
              moves[0]
            );
            return minMove;
          }
        }

        if (xoGameOver) return;

        const move = minimax(xoBoardState, "O");
        if (move && move.index !== undefined) {
          xoMakeMove(move.index, "O");
          xoTurn = "X";
          xoStatus.textContent = "دورك: X";
          checkXOGameStatus();
        }
      }

      function checkXOGameStatus() {
        const winner = checkXOWinner(xoBoardState);
        if (winner === "X") {
          xoStatus.textContent = "تهانينا! فزت! 🎉";
          xoGameOver = true;
        } else if (winner === "O") {
          xoStatus.textContent = "خسرت! الكمبيوتر فاز.";
          xoGameOver = true;
        } else if (winner === "tie") {
          xoStatus.textContent = "تعادل!";
          xoGameOver = true;
        }
      }

      function renderXO() {
        xoBoard.innerHTML = "";
        xoBoardState.forEach((cell, idx) => {
          const div = document.createElement("div");
          div.classList.add("xoCell");
          div.textContent = cell ? cell : "";
          div.addEventListener("click", () => {
            if (xoGameOver || xoTurn !== "X" || xoBoardState[idx]) return;
            xoMakeMove(idx, "X");
            xoTurn = "O";
            xoStatus.textContent = "دور الكمبيوتر...";
            checkXOGameStatus();
            if (!xoGameOver) {
              setTimeout(() => {
                xoComputerMove();
              }, 500);
            }
          });
          xoBoard.appendChild(div);
        });
      }

      function resetXO() {
        xoBoardState = Array(9).fill(null);
        xoTurn = "X";
        xoGameOver = false;
        xoStatus.textContent = "دورك: X";
        renderXO();
      }

      xoResetBtn.addEventListener("click", resetXO);
      resetXO();

      // ******************
      // لعبة الذاكرة
      // ******************
      const memoryBoard = document.getElementById("memoryBoard");
      const memoryStatus = document.getElementById("memoryStatus");
      const memoryResetBtn = document.getElementById("memoryResetBtn");

      const memorySymbols = ["🍎", "🍌", "🍇", "🍓", "🍒", "🥝"];
      let memoryCards = [];
      let flippedCards = [];
      let matchedCards = [];
      let memoryBusy = false;

      function shuffle(array) {
        for (let i = array.length - 1; i > 0; i--) {
          let j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
      }

      function createMemoryBoard() {
        memoryCards = [...memorySymbols, ...memorySymbols];
        shuffle(memoryCards);
        memoryBoard.innerHTML = "";
        memoryCards.forEach((symbol, idx) => {
          const card = document.createElement("div");
          card.classList.add("memoryCard");
          card.dataset.symbol = symbol;
          card.textContent = "";
          card.addEventListener("click", () => {
            if (memoryBusy) return;
            if (flippedCards.includes(card) || matchedCards.includes(card)) return;
            flipCard(card);
          });
          memoryBoard.appendChild(card);
        });
      }

      function flipCard(card) {
        card.textContent = card.dataset.symbol;
        card.classList.add("flipped");
        flippedCards.push(card);
        if (flippedCards.length === 2) {
          memoryBusy = true;
          setTimeout(() => {
            checkMemoryMatch();
          }, 1000);
        }
      }

      function checkMemoryMatch() {
        const [c1, c2] = flippedCards;
        if (c1.dataset.symbol === c2.dataset.symbol) {
          matchedCards.push(c1, c2);
          memoryStatus.textContent = `مبروك! وجدت زوجًا من ${c1.dataset.symbol}`;
          if (matchedCards.length === memoryCards.length) {
            memoryStatus.textContent = "لقد أكملت لعبة الذاكرة!";
          }
        } else {
          c1.textContent = "";
          c2.textContent = "";
          c1.classList.remove("flipped");
          c2.classList.remove("flipped");
          memoryStatus.textContent = "حاول مرة أخرى.";
        }
        flippedCards = [];
        memoryBusy = false;
      }

      function resetMemory() {
        flippedCards = [];
        matchedCards = [];
        memoryBusy = false;
        memoryStatus.textContent = "";
        createMemoryBoard();
      }

      memoryResetBtn.addEventListener("click", resetMemory);
      resetMemory();

      // ******************
      // لعبة اضغط المربع
      // ******************
      const catchGame = document.getElementById("catchGame");
      const catchBox = document.getElementById("catchBox");
      const catchScoreEl = document.getElementById("catchScore");
      const catchResetBtn = document.getElementById("catchResetBtn");

      let catchScore = 0;

      function randomPosition() {
        const maxX = catchGame.clientWidth - catchBox.clientWidth;
        const maxY = catchGame.clientHeight - catchBox.clientHeight;
        const x = Math.floor(Math.random() * maxX);
        const y = Math.floor(Math.random() * maxY);
        return { x, y };
      }

      function moveCatchBox() {
        const pos = randomPosition();
        catchBox.style.left = pos.x + "px";
        catchBox.style.top = pos.y + "px";
      }

      catchBox.addEventListener("click", () => {
        if (catchScore >= 30) return; // حد نقاط
        catchScore++;
        catchScoreEl.textContent = `النقاط: ${catchScore}`;
        moveCatchBox();
      });

      function resetCatch() {
        catchScore = 0;
        catchScoreEl.textContent = "النقاط: 0";
        moveCatchBox();
      }

      catchResetBtn.addEventListener("click", resetCatch);
      resetCatch();

      // ******************
      // لعبة الديناصور مع مراحل
      // ******************

      const canvas = document.getElementById("dinoCanvas");
      const ctx = canvas.getContext("2d");

      const dino = {
        x: 50,
        y: 0,
        width: 40,
        height: 40,
        yVelocity: 0,
        gravity: 0.7,
        jumpStrength: -14,
        isJumping: false,
      };

      let obstacles = [];
      let dinoGameOver = false;
      let dinoScore = 0;
      let dinoSpeed = 6;
      let dinoFrameCount = 0;
      let dinoLevel = 1;

      const levelBackgrounds = [
        "#1a1a1a",
        "#2a2a72",
        "#3a6ea5",
        "#5a9bd4",
        "#7ab8ff",
      ];

      function resetDino() {
        dino.y = canvas.height - dino.height - 10;
        dino.yVelocity = 0;
        dino.isJumping = false;
        obstacles = [];
        dinoGameOver = false;
        dinoScore = 0;
        dinoSpeed = 6;
        dinoFrameCount = 0;
        dinoLevel = 1;
        canvas.style.backgroundColor = levelBackgrounds[0];
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        canvas.focus();
        animateDino();
      }

      function drawDino() {
        ctx.fillStyle = "#ff9800";
        ctx.fillRect(dino.x, dino.y, dino.width, dino.height);
      }

      function drawObstacle(obs) {
        ctx.fillStyle = "#ff5722";
        ctx.fillRect(obs.x, obs.y, obs.width, obs.height);
      }

      function updateBackground() {
        const bgColor =
          levelBackgrounds[Math.min(dinoLevel - 1, levelBackgrounds.length - 1)];
        canvas.style.backgroundColor = bgColor;
      }

      function gameOverDino() {
        dinoGameOver = true;
        ctx.font = "30px Tajawal, sans-serif";
        ctx.fillStyle = "#eee";
        ctx.textAlign = "center";
        ctx.fillText("انتهت اللعبة! اضغط إعادة اللعب.", canvas.width / 2, canvas.height / 2);
      }

      function animateDino() {
        if (dinoGameOver) return;

        ctx.clearRect(0, 0, canvas.width, canvas.height);
        updateBackground();

        // Dino physics
        dino.yVelocity += dino.gravity;
        dino.y += dino.yVelocity;

        if (dino.y > canvas.height - dino.height - 10) {
          dino.y = canvas.height - dino.height - 10;
          dino.yVelocity = 0;
          dino.isJumping = false;
        }

        drawDino();

        // Handle obstacles
        if (dinoFrameCount % 90 === 0) {
          // كل 90 إطار يظهر عائق جديد
          let obsHeight = 30 + Math.random() * 30;
          obstacles.push({
            x: canvas.width,
            y: canvas.height - obsHeight - 10,
            width: 20,
            height: obsHeight,
          });
        }

        obstacles.forEach((obs, idx) => {
          obs.x -= dinoSpeed;
          drawObstacle(obs);

          // تصادم
          if (
            dino.x < obs.x + obs.width &&
            dino.x + dino.width > obs.x &&
            dino.y < obs.y + obs.height &&
            dino.y + dino.height > obs.y
          ) {
            gameOverDino();
          }

          // إزالة العوائق بعد خروجها من الشاشة
          if (obs.x + obs.width < 0) {
            obstacles.splice(idx, 1);
            dinoScore++;
            if (dinoScore % 10 === 0) {
              dinoLevel++;
              dinoSpeed += 1;
              updateBackground();
            }
          }
        });

        // عرض النقاط والمستوى
        ctx.font = "18px Tajawal, sans-serif";
        ctx.fillStyle = "#fff";
        ctx.textAlign = "left";
        ctx.fillText(`النقاط: ${dinoScore}`, 10, 25);
        ctx.fillText(`المستوى: ${dinoLevel}`, 10, 50);

        dinoFrameCount++;
        requestAnimationFrame(animateDino);
      }

      // القفز
      canvas.addEventListener("keydown", (e) => {
        if ((e.code === "Space" || e.code === "ArrowUp") && !dino.isJumping && !dinoGameOver) {
          dino.yVelocity = dino.jumpStrength;
          dino.isJumping = true;
        }
      });

      document.getElementById("dinoResetBtn").addEventListener("click", resetDino);

      resetDino();
    </script>
  </body>
</html>
