<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="google-adsense-account" content="ca-pub-4245861475999076">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4245861475999076"
        crossorigin="anonymous"></script>
    <title>Up</title>
    <link rel="icon" href="images/favicon.png" type="image/png" />
</head>
<body>
    <style>
        /* من فضلك راجع ملف الـ CSS الأصلي بالكامل، لكن تم إضافة تنسيق جديد واحد فقط هنا */
        /* ------------------------------------------------------------------ */
        #login-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #212121; /* خلفية شاشة الدخول */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 10000; /* للتأكد من أنها تغطي كل شيء */
            flex-direction: column;
            direction: rtl; /* دعم الاتجاه */
        }

        .form {
            display: flex;
            justify-content: center;
            align-items: center;
            transform-style: preserve-3d;
            transition: all 1s ease;
        }

        .form .form_front {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
            position: absolute;
            backface-visibility: hidden;
            padding: 65px 45px;
            border-radius: 15px;
            box-shadow: inset 2px 2px 10px rgba(0,0,0,1),
            inset -1px -1px 5px rgba(255, 255, 255, 0.6);
            background-color: #333; /* لون خلفية بطاقة الدخول */
        }

        .form_details {
            font-size: 25px;
            font-weight: 300;
            padding-bottom: 10px;
            color: white;
        }

        .form_text {
            font-size: 18px;
            font-weight: 60;
            padding-bottom: 10px;
            color: yellow;
            font-family: 'Arial', sans-serif; /* تغيير الخط إلى Arial */


            
        }
        .input {
            width: 245px;
            min-height: 45px;
            color: #fff;
            outline: none;
            transition: 0.35s;
            padding: 0px 7px;
            background-color: #212121;
            border-radius: 6px;
            border: 2px solid #212121;
            box-shadow: 6px 6px 10px rgba(0,0,0,1),
            1px 1px 10px rgba(255, 255, 255, 0.6);
            text-align: right;
        }

        .input::placeholder {
            color: #999;
            text-align: right;
        }

        .input:focus.input::placeholder {
            transition: 0.3s;
            opacity: 0;
        }

        .input:focus {
            transform: scale(1.05);
            box-shadow: 6px 6px 10px rgba(0,0,0,1),
            1px 1px 10px rgba(255, 255, 255, 0.6),
            inset 2px 2px 10px rgba(0,0,0,1),
            inset -1px -1px 5px rgba(255, 255, 255, 0.6);
        }

        .btn {
            padding: 10px 35px;
            cursor: pointer;
            background-color: #B87D2C; /* لون زر الدخول (برتقالي) */
            border-radius: 6px;
            border: 2px solid #E68D10;
            box-shadow: 6px 6px 10px rgba(0,0,0,1),
            1px 1px 10px rgba(255, 255, 255, 0.6);
            color: #fff;
            font-size: 18px;
            font-weight: bold;
            transition: 0.35s;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 6px 6px 10px rgba(0,0,0,1),
            1px 1px 10px rgba(255, 255, 255, 0.6),
            inset 2px 2px 10px rgba(0,0,0,1),
            inset -1px -1px 5px rgba(255, 255, 255, 0.6);
        }

        /* ------------------------------------------------------------------ */

        /* الوضع الليلي الافتراضي */
        body {
            background: linear-gradient(135deg, #6a1b9a, #8b57c9);
            color: white;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 50px;
            transition: background 0.5s ease, color 0.5s ease;
        }

        /* تغيير اللون عند اختيار زر */
        button.selected {
            background-color: #4caf50; /* اللون عند الاختيار */
            color: white;
            border: none;
        }

        button:hover {
            opacity: 0.8; /* تأثير عند التمرير */
        }
        select {
            border-radius: 25px;
        }


        body.light-mode {
            background: linear-gradient(135deg, #3F2552 0%, #6a1b9a 100%);
            color: #222;
            transition: background 0.5s ease, color 0.5s ease;
        }
        .header {
            width: 100%;
            height: 60px;
            background: linear-gradient(1deg, #C3AED4 10%, #5a2483 60%);
            display: flex;
            overflow: visible;
            text-overflow: unset;
            align-items: center;
            justify-content: center;
            border-bottom-right-radius: 50px;
            border-top-left-radius: 30px;
            color: #fff;
            font-size: 30px;
            font-weight: bold;
            font-family: 'Arial', sans-serif;
            box-shadow: 0 12px 140px rgba(255, 255, 255, 1);
            margin-bottom: -190px;
            transition: background 0.5s ease, color 0.5s ease;
        }

        /* دعم الوضع النهاري لغلاف */
        body.light-mode .header {
            background: linear-gradient(135deg, #EDDD53, #BE57C7, #DB800F);
            color: #222;
            box-shadow: 10 40px 150px rgba(180, 150, 220, 0.5);
        }

        .header1 {
            max-width: 500%;
            height: 180px;
            justify-content: flex-start;
            background: linear-gradient(1deg, #C3AED4 10%, #5a2483 60%);
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom-right-radius: 50px;
            border-top-left-radius: 40px;
            color: #fff;
            font-size: 36px;
            font-weight: bold;
            font-family: 'Arial', sans-serif;
            box-shadow: 0 12px 140px rgba(255, 255, 255, 1);
            margin-bottom: 40px;
            transition: background 0.5s ease, color 0.5s ease;
        }
        .header1 {
            justify-content: center; /* وهذا موجود بالفعل */
        }

        /* دعم الوضع النهاري لغلاف */
        body.light-mode .header1 {
            background: linear-gradient(1deg, #C3AED4 0%, #3F2552 50%);
        }

        /* زر التبديل */
        #mode-toggle {
            position: fixed;
            top: 20px;
            left: 20px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 40px;
            transition: transform 0.3s ease;
            color: #d1a5f7;
            user-select: none;
        }

        #mode-toggle:hover {
            transform: rotate(20deg);
        }

        .cards-container {
            display: grid;
            grid-template-columns: repeat(2, 600px);
            gap: 80px; /* يقلل المسافة بين البطاقات العمودية */
            justify-content: center;
        }

        .card {
            width: 600px;
            height: 550px;
            background-color: #C3AED4;
            box-shadow: 0px 0px 0px #fff, -10px -10px 30px #A564DE;
            transition: border-radius 1s cubic-bezier(0.075, 0.82, 0.165, 1),
            transform 1s cubic-bezier(0.075, 0.82, 0.165, 1),
            background-color 0.5s ease, box-shadow 0.5s ease;
            color: white;
            padding: 15px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            border-radius: 20px;
        }

        /* الوضع النهاري للبطاقات */
        body.light-mode .card {
            background-color: #6D3687;
            box-shadow: 1px 2px 20px #222, -15px 15px 20px #222;
            color: #222;
        }

        .card:hover {
            border-bottom-right-radius: 90px;
            border-top-left-radius: 80px;
            transform: scale(1.05);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .title {
            font-weight: bold;
            color: #fff;
            line-height: 1.5;
            margin-right: 15px; /* ← يحرك النص لليسار */
            font-size: 40px;
        }

        body.light-mode .title {
            color: black;
        }

        .price {
            width: 200px;
            height: 60px;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            font-size: 35px;
            margin-left: -30px;
            line-height: 1.9;
            color: #fff;
            border-top-left-radius: 30px;
            border-bottom-right-radius: 10px;


            font-weight: bold;
        }


        .details p {
            margin: 10px 0;
            font-size: 24px;
            color: #fff;
            background: linear-gradient(90deg, #5a2483, #9b4dad);
            padding: 7px 20px;
            font-weight: bold;
            border-radius: 15px;
            margin: 30px 50; /* ← تباعد مخصص لمفوتر بيسك فقط */
            box-shadow: 0 20px 20px rgba(0, 0, 0, 0.3);
            transition: background 0.3s ease;
        }
        body.light-mode .title {
            color: black;
        }
        body.light-mode .details p {
            background: linear-gradient(135deg, #EDDD53, #BE57C7, #DB800F);
            color: black;
        }


        .basic-plan .details p {
            padding: 10px 20px;
            margin: 60px 0; /* ← تباعد مخصص لمفوتر بيسك فقط */
        }
        .max-plan .details p {
            margin: 20px 0; /* ← تباعد مخصص لمفوتر بيسك فقط */

        }

        .discounts {
            display: flex;
            justify-content: center;
            gap: 10px;
            font-size: 25px;
            margin-top: -170px;
            flex-wrap: wrap;
        }

        .discount-circle {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            border: 5px solid #000000;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            color: #000000;
            transition: 0.9s ease;
        }

        .discount-circle:hover {
            background-color: #000000;
            color: white;
            transform: scale(1.1);
        }

        .discount-circle.active {
            background-color: #fff;
            color: red;
            border-color: #FF0D00;
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(128, 0, 255, 0.5);
        }

        /* الوضع النهاري للدوائر */
        body.light-mode .discount-circle {
            border-color: #000000;
            color: #000000;
        }

        body.light-mode .discount-circle:hover {
            background-color: #fff;
            color: #000000;
        }

        body.light-mode .discount-circle.active {
            background-color: #fff;
            border-color: #000000;
            box-shadow: 0 0 10px rgba(90, 34, 183, 0.5);
        }

        body.light-mode .price {
            color: #000000;
        }

        body h1 {
            text-align: center;
            color: #fff;
            margin-bottom: 50px;
            font-size: 40px;
            transition: color 0.5s ease;
        }
        body.light-mode h1 {
            color: #fff;
        }
        select {
            background-color: #6D3687;  /* لون الخلفية */
            color: white;               /* لون النص */
            border: 2px solid #E68D10; /* لون الحدود */
            box-shadow: 0 4px 10px rgba(0,0,0,0.2); /* ظل بسيط */
            transition: background-color 0.3s ease;
        }

        select:hover {
            background-color: #7b3fa6; /* لون الخلفية عند المرور بالفأرة */
        }

        .custom-select {
            position: relative;
            width: 300px;
            border-radius: 300px;
            border: 3px solid #E68D10;
            font-size: 25px;
        }

        .select-selected {
            background: linear-gradient(135deg,#9b4dad,#6a1b9a);  padding: 15px;
            border-radius: 30px;
            cursor: pointer;
            text-align: center;
            font-weight: bold;
            color: black;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }
        body.light-mode .select-selected {
            color: white; /* ← لون الخط في الوضع النهاري */
        }

        .select-items {
            position: absolute;
            background: #fff;
            top: 100%;
            left: 0;
            right: 0;
            z-index: 99;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .select-items .option {
            padding: 15px;
            cursor: pointer;
            color: black;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .select-items .option:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }

        .select-hide { display: none; }

        .container {
            width: 80%;
            margin: 50px auto;
        }
        .package-comparison {
            display: flex;
            justify-content: space-between;
        }
        .package {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 45%;
            text-align: center;
        }
        .package h3 {
            font-size: 1.5em;
            margin-bottom: 10px;
        }
        .package select {
            width: 80%;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ccc;
            margin-bottom: 15px;
        }
        .package button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            width: 80%;
        }
        .package button:hover {
            background-color: #45a049;
        }
        .comparison-footer {
            margin-top: 30px;
            display: flex;
            justify-content: space-between;
        }

        .footer-package {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            width: 45%;
            text-align: center;
        }
        .footer-package button {
            width: 80%;
        }

        /* تنسيق الجدول */
        #comparison-table table {
            width: 100%;
            border-collapse: collapse;
            font-size: 240px;
            border-radius: 150px;
            text-align: center;
            margin-top: 20px;
            border-radius: 15px;
            overflow: hidden;
        }

        /* رأس الجدول */
        #comparison-table thead tr {
            background: linear-gradient(135deg, #6A1B9A, #6A1B9A);
            color: white;
            border-radius: 150px;
        }

        #comparison-table thead th {
            padding: 30px;
            font-size: 28px;
            border-radius: 150px;
            font-weight: bold;
        }


        body.light-mode #comparison-table thead th {
            padding: 20px;
            font-size: 28px;
            color: black;
            border-radius: 150px;
            border-bottom: 2px solid #3F2552;
        }

        /* الصفوف */
        body.light-mode #comparison-table tbody tr {
            background: linear-gradient(90deg, #5a2483, #9b4dad);
            padding: 20px;
            font-size: 25px;
            color: black;
            border-bottom: 2px solid #111;

            transition: background 0.3s ease;
        }

        #comparison-table tbody tr:hover {
            background: linear-gradient(90deg, #7b3fa6, #c084d7);
            border-radius: 150px;
            font-weight: bold;
        }

        /* خلايا الجدول */
        #comparison-table td {
            padding: 18px;
            border-radius: 150px;
            font-weight: bold;
            font-size: 25px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            background: linear-gradient(90deg, #3F2552, #3F2552);
        }
        
        /* ************* التنسيق المضاف ليدعم الوضع النهاري في المقارنة ************* */
        body.light-mode #comparison-table td {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            border-radius: 150px;
            padding: 18px;
            color: #B19DC2; /* لون فاتح يظهر على الخلفية الداكنة في الوضع النهاري للجدول */
            font-weight: bold;
            background: linear-gradient(90deg, #7b3fa6, #c084d7); /* خلفية فاتحة لخلايا الجدول */
            color: black;
        }
        /* ************************************************************************** */

        /* الوضع النهاري */
        body.light-mode #comparison-table thead tr {
            background: linear-gradient(90deg, #EDDD53, #BE57C7, #DB800F);
            color: black;
        }

        body.light-mode #comparison-table tbody tr:hover {
            background: linear-gradient(90deg, #ffe5a0, #f6d0ff);
            font-weight: bold;
            color: black;
        }


        .watermark {
            pointer-events: none; /* لمنع التفاعل */
            user-select: none; /* لمنع التحديد */
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            padding: 1000px;
            display: flex;
            margin: -880px;
            flex-wrap: wrap;
            align-content: center;
            justify-content: center;
            opacity: 0.06; /* شفاف */
            transform: rotate(-45deg);
            font-size: 40px;
            color: black;
            z-index: 9999; /* فوق كل شيء */
            overflow: hidden;
        }

        .watermark span {
            margin: 100px 120px;
            white-space: nowrap;
        }

    </style>

    <div id="login-container">
        <div class="form">
            <div class="form_front" style="position: relative;">
                <div class="form_details">تسجيل الدخول</div>
                <div class="form_text">يرجى أخذ الأذن من صاحب الموقع</div>
                <input type="text" id="login-username" class="input" placeholder="أدخل اسم المستخدم" dir="rtl">
                <input type="password" id="login-password" class="input" placeholder="أدخل كلمة المرور" dir="rtl">
                <button id="login-btn" class="btn">دخول</button>
                <div id="login-error" style="color: #ff6347; font-weight: bold; margin-top: 10px; display: none;">اسم المستخدم أو كلمة المرور غير صحيحة.</div>
            </div>
        </div>
    </div>
    <div id="app-content" style="display: none;">
        <header class="header1">
            <img src="https://f.top4top.io/p_3543u83kc1.png" alt="شعار الموقع" style="height: 100px;">
        </header>
        <div style="text-align:center; margin-top: 40px; font-size: 24px; color: white;">
        </div>

        <title>باقات المفوتر</title>

        <div class="watermark">
            <span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span><span>khaled.55783</span>
        </div>

<button id="mode-toggle" aria-label="تبديل الوضع">
            🌙
        </button>

        <div style="text-align:center; margin-bottom: 30px;">
            <button id="show-plans-btn" style="font-size: 26px; padding: 10px 30px; margin: 10px; background-color: #E68D10; color: white; border: none; border-radius: 10px;">باقات الجوال المفوتر</button>
            <button id="show-mobile-plans-btn" style="font-size: 26px; padding: 10px 30px; margin: 10px; background-color: #6D3687; color: white; border: none; border-radius: 10px;">باقات الهاتف المفوترة</button>
            <button id="show-quick-net-btn" style="font-size: 26px; padding: 10px 30px; margin: 10px; background-color: #6D3687; color: white; border: none; border-radius: 10px;">كويك نت المفوترة</button>
            <button id="show-comparison-btn" style="font-size: 26px; padding: 10px 30px; margin: 10px; background-color: #6D3687; color: white; border: none; border-radius: 10px;">مقارنة الباقات</button>

        </div>

        <div id="plans-section">
            <h1 style="visibility: hidden;">باقات الجوال المفوترة</h1>
            <div class="cards-container" id="plans-container"></div>
        </div>

        <div id="mobile-plans-section" style="display: none;">
            <h1 style="visibility: hidden;">باقات الهاتف المفوترة</h1>
            <div class="cards-container" id="mobile-plans-container"></div>
        </div>

        <div id="quick-net-section" style="display: none;">
            <h1 style="visibility: hidden;">كويك نت المفوترة</h1>
            <div class="cards-container" id="quick-net-container"></div>
        </div>

        <div id="comparison-section" style="display: none;">
            <div style="text-align: center; font-size: 24px;">
                <div id="comparison-selects" style="display: flex; justify-content: center; gap: 40px; flex-wrap: wrap; margin-bottom: 30px;">
                    <div id="custom-plan1" class="custom-select">
                        <div class="select-selected" data-index="-1" data-type="postpaid">اختر الباقة الأولى</div>
                        <div class="select-items select-hide">
                            </div>
                    </div>
                    <div id="custom-plan2" class="custom-select">
                        <div class="select-selected" data-index="-1" data-type="postpaid">اختر الباقة الثانية</div>
                        <div class="select-items select-hide">
                            </div>
                    </div>
                </div>

                <div id="under-development" style="display: none; text-align: center; margin-top: 20px;">
                    <img src="https://f.top4top.io/p_3543u83kc1.png" alt="شعار تحت التطوير" style="width: 150px; height: auto; margin-bottom: 10px;">
                    <p style="font-size: 24px; font-weight: bold; color: #ff6347;">تحت التطوير</p>
                </div>
            </div>
            <div id="comparison-table" style="margin-top: 20px;"></div>
        </div>
        
    </div>
    <script>

        // متغيرات ومؤقت الجلسة (10 دقائق)
        let sessionTimeoutTimer;
        const TIMEOUT_DURATION = 10 * 60 * 1000; // 600,000 مللي ثانية = 10 دقائق

        // -----------------------------------------------------------------
        // وظيفة تسجيل الخروج التلقائي وإعادة ضبط المؤقت
        // -----------------------------------------------------------------

        // وظيفة إعادة تعيين المؤقت - يتم استدعاؤها عند أي تفاعل من المستخدم
        function resetTimer() {
            clearTimeout(sessionTimeoutTimer);
            // تعيين مؤقت جديد لتسجيل الخروج بعد 10 دقائق
            sessionTimeoutTimer = setTimeout(logout, TIMEOUT_DURATION);
        }

        // وظيفة تسجيل الخروج الفعلي - يتم استدعاؤها بعد انتهاء المؤقت
        function logout() {
            // إخفاء محتوى التطبيق وإظهار شاشة الدخول
            document.getElementById('app-content').style.display = 'none';
            document.getElementById('login-container').style.display = 'flex';

            // مسح بيانات الدخول السابقة في الحقول
            document.getElementById('login-username').value = '';
            document.getElementById('login-password').value = '';

            // التركيز على حقل اسم المستخدم لسهولة الدخول مجدداً
            document.getElementById('login-username').focus();

            // إزالة مستمعي الأحداث لمنع إعادة تشغيل المؤقت أثناء شاشة الدخول
            document.removeEventListener('mousemove', resetTimer);
            document.removeEventListener('keypress', resetTimer);
            document.removeEventListener('click', resetTimer);

            console.log("Session timed out. User logged out.");
        }

        // وظيفة بدء مؤقت الجلسة بعد تسجيل الدخول بنجاح
        function startSessionTimer() {
            // بدء المؤقت لأول مرة
            resetTimer();

            // إضافة مستمعي الأحداث لأي تفاعل من المستخدم داخل الصفحة
            document.addEventListener('mousemove', resetTimer);
            document.addEventListener('keypress', resetTimer);
            document.addEventListener('click', resetTimer);
        }

        // -----------------------------------------------------------------
        // منطق تسجيل الدخول
        // -----------------------------------------------------------------
        document.addEventListener('DOMContentLoaded', () => {
            const loginBtn = document.getElementById('login-btn');
            const usernameInput = document.getElementById('login-username');
            const passwordInput = document.getElementById('login-password');
            const loginError = document.getElementById('login-error');
            const loginContainer = document.getElementById('login-container');
            const appContent = document.getElementById('app-content');

            const CORRECT_USERNAME = '55783';
            const CORRECT_PASSWORD = '55783';

            const handleLogin = () => {
                const enteredUsername = usernameInput.value.trim();
                const enteredPassword = passwordInput.value.trim();

                if (enteredUsername === CORRECT_USERNAME && enteredPassword === CORRECT_PASSWORD) {
                    // نجاح تسجيل الدخول: إخفاء شاشة الدخول وعرض المحتوى
                    loginContainer.style.display = 'none';
                    appContent.style.display = 'block';
                    loginError.style.display = 'none';

                    // *** جديد: بدء مؤقت الجلسة بعد الدخول بنجاح ***
                    startSessionTimer();

                } else {
                    // فشل تسجيل الدخول: عرض رسالة خطأ
                    loginError.style.display = 'block';
                }
            };

            // ربط زر الدخول بوظيفة الدخول
            loginBtn.addEventListener('click', handleLogin);

            // ربط مفتاح Enter في حقلي الإدخال بوظيفة الدخول
            usernameInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleLogin();
            });
            passwordInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') handleLogin();
            });

            // إظهار شاشة الدخول أولاً
            loginContainer.style.display = 'flex';
            appContent.style.display = 'none';

            // التركيز على حقل اسم المستخدم بعد تحميل الصفحة
            usernameInput.focus();
            // -----------------------------------------------------------------
            // بيانات الباقات (المفوتر والجوال والهاتف وكويك نت)
            // -----------------------------------------------------------------

            const postpaidPlansData = [
                {
                    name: "مفوتر بيسك+",
                    price: 90.5,
                    details: ["أنترنت 10 قيقا", "تواصل اجتماعي 10 قيقا بايت", "مكالمات داخل الشبكة 300 دقيقة"]
                },
                {
                    name: "مفوتر 2",
                    price: 138,
                    details: ["إنترنت 15 قيقا", "تواصل اجتماعي 15 قيقا", "خدمة لا يوقف 8 قيقا بسرعة 256 كيلوبايت", "مكالمات داخل الشبكة لا محدود", "مكالمات خارج الشبكة 200 دقيقة", "رسائل داخل الشبكة لا محدود", "رسائل خارج الشبكة 200 رسالة"]
                },
                {
                    name: "مفوتر 2 بلس",
                    price: 172.5,
                    details: ["إنترنت 40 قيقا", "تواصل اجتماعي 40 قيقا", "مكالمات داخل الشبكة لا محدود", "مكالمات خارج الشبكة 400 دقيقة", "رسائل داخل الشبكة 150 رسالة", "رسائل خارج الشبكة 150 رسالة"]
                },
                 {
                    name: "مفوتر فليكس",
                    price: 370,
                    details: ["أنترنت 150 قيقا", "بيانات تواصل إجتماعي لا محدود","انترنت تجوال 2 جيجا إنترنت ","رسائل داخل الشبكة لا محدود","دقائق دولية	200 دقيقة صادرة ","رسائل خارج الشبكة 1500 رسالة", "مكالمات داخلية و خارجية لا محدود "]
                },
                {
                    name: "مفوتر 3 بلس",
                    price: 264.5,
                    details: ["إنترنت 110 قيقا", "تواصل اجتماعي لا محدود", "واي فاي 110 قيقا", "مكالمات داخل الشبكة لا محدود", "مكالمات خارج الشبكة لا محدود", "رسائل داخل الشبكة لا محدود", "رسائل خارج الشبكة 1000 رسالة"]
                },
                {
                    name: "مفوتر 4",
                    price: 517.5,
                    details: ["إنترنت لا محدود", "تجوال 5 قيقا", "واي فاي لا محدود", "استخدام عادل للشرائح المتعددة", "دقائق تجوال 100 دقيقة", "STC TV مجانا", "مكالمات ورسائل لكل الشبكات لا محدود",]
                },
                {
                    name: "مفوتر ماكس",
                    price: 920,
                    details: ["إنترنت لا محدود بدون سياسة استخدام عادل", "تجوال لا محدود (5 قيقا يوميًا)", "مكالمات ورسائل لجميع الشبكات لا محدود", "مكالمات دولية 200 دقيقة", "تقسيط أجهزة حتى 8280 ريال", "استقبال مكالمات تجوال لا محدود"]
                }
            ];

            const mobilePlansData = [
                {
                    name: "بيتي بيسك",
                    price: 287.5,
                    details: ["مكالمات محلية وداخلية مجانا لأي هاتف ثابت داخل أو خارج الشبكة", "جهاز المودم مجانا للتأسيس الجديد", "سرعة الرفع تصل الى 100 ميقا بايت", "سرعة التحميل تصل الى 300 ميقا بايت", "بيانات لا محدود", "عقد 12 شهر", "باقة لايت من stc tv"]
                },
                {
                    name: "بيتي ستريم",
                    price: 402.50,
                    details: ["مكالمات محلية وداخلية مجانا لأي هاتف ثابت داخل أو خارج الشبكة", "جهاز المودم مجانا للتأسيس الجديد", "سرعة الرفع تصل الى 125 ميقا بايت", "سرعة التحميل تصل الى 500 ميقا بايت", "بيانات لا محدود", "عقد 12 شهر", "شاهد ViP"]
                },
                {
                    name: "بيتي ستريم لايت",
                    price: 402.50,
                    details: ["مكالمات محلية وداخلية مجانا لأي هاتف ثابت داخل أو خارج الشبكة", "جهاز المودم مجانا للتأسيس الجديد", "سرعة الرفع تصل الى 125 ميقا بايت", "سرعة التحميل تصل الى 500 ميقا بايت", "بيانات لا محدود", "عقد 12 شهر", "باقة لايت من stc tv"]
                },
                {
                    name: "بيتي إنترتينمنت",
                    price: 345,
                    details: ["مكالمات محلية وداخلية مجانا لأي هاتف ثابت داخل أو خارج الشبكة", "جهاز المودم مجانا للتأسيس الجديد", "سرعة الرفع تصل الى 200 ميقا بايت", "سرعة التحميل تصل الى 500 ميقا بايت", "بيانات لا محدود", "عقد 12 شهر", "باقة لايت من stc tv"]
                }
            ];
            
            // بيانات باقات كويك نت المفوترة الجديدة
            const quickNetPlansData = [
                {
                    name: "بيتي بيسك 5G لاسلكي",
                    price: 299,
                    details: ["سعة البيانات لا محدود", "سرعة التحميل تصل الى 200 ميقا بايت", "سرعة الرفع تصل 40", "جهاز راوتر مجاني" ,"ضمن النطاق المحدود"]
                },
                {
                    name: "بيتي انترتينمنت 5G لاسلكي",
                    price: 353,
                    details: ["سعة البيانات لا محدود", "سرعة التحميل تصل الى 200 ميقا بايت", "سرعة الرفع تصل 40", "جهاز راوتر مجاني" ,"stc tv لايت" ,"شاهد VIP | Sports" ,"ضمن النطاق المحدود"]
                },
                {
                    name: "بيتي لامحدود 5G",
                    price: 402.50,
                    details: ["سعة البيانات لا محدود", "سرعة التحميل أقصى سرعة تدعمها الشبكة", "ضمن النطاق المفتوح", "راوتر مجاني"]
                }
            ];

            const discounts = [0, 10, 20, 30, 40, 50];


            // ***************************************************************
            // وظيفة موحدة لتوليد بطاقات الباقات
            // ***************************************************************

            function generatePlanCards(plans, containerId, type) {
                const plansContainer = document.getElementById(containerId);
                plansContainer.innerHTML = ''; // مسح المحتوى القديم

                plans.forEach((plan, index) => {
                    const card = document.createElement("div");
                    card.className = "card";

                    card.innerHTML = `
                        <div class="header">
                            <span class="title">${plan.name}</span>
                            <span class="price" id="price-${type}-${index}">${plan.price} ريال</span>
                        </div>
                        <div class="details">
                            ${plan.details.map(d => `<p>• ${d}</p>`).join("")}
                        </div>
                        <div class="discounts" id="discounts-${type}-${index}"></div>
                    `;

                    plansContainer.appendChild(card);
                    if (plan.name.includes("بيسك+")) { card.classList.add("basic-plan"); }
                    if (plan.name.includes("ماكس")) { card.classList.add("max-plan"); }


                    const discountContainer = document.getElementById(`discounts-${type}-${index}`);
                    discounts.forEach(discount => {
                        const btn = document.createElement("div");
                        btn.className = "discount-circle";
                        btn.textContent = `${discount}%`;
                        btn.onclick = () => applyDiscount(`${type}-${index}`, plan.price, discount, btn);
                        discountContainer.appendChild(btn);
                    });
                });
            }

            // ***************************************************************
            // وظيفة موحدة لتطبيق الخصم
            // ***************************************************************

            function applyDiscount(id, originalPrice, discountPercent, clickedBtn) {
                const finalPrice = (originalPrice - (originalPrice * discountPercent / 100)).toFixed(2);
                document.getElementById(`price-${id}`).textContent = `${finalPrice} ريال`;

                const buttons = clickedBtn.parentElement.querySelectorAll('.discount-circle');
                buttons.forEach(btn => btn.classList.remove("active"));
                clickedBtn.classList.add("active");
            }

            // توليد بطاقات باقات المفوتر عند التحميل
            generatePlanCards(postpaidPlansData, "plans-container", "postpaid");


            // ***************************************************************
            // وظيفة توليد الخيارات في قوائم المقارنة المخصصة (مُحدَّثة)
            // ***************************************************************

            function populateComparisonOptions() {
                const allPlans = [
                    // باقات الجوال
                    ...postpaidPlansData.map((p, i) => ({ ...p, type: 'postpaid', index: i, bgColor: `linear-gradient(135deg, ${['#9b4dad', '#6a1b9a', '#5a2483', '#ab85c9', '#e68d10', '#ff6347'][i % 6]}, #6D3687)` })),
                    // باقات الهاتف
                    ...mobilePlansData.map((p, i) => ({ ...p, type: 'mobile', index: i, bgColor: `linear-gradient(135deg, ${['#1abc9c', '#3498db', '#9b59b6', '#f1c40f', '#e67e22', '#e74c3c'][i % 6]}, #34495e)` })),
                    // باقات كويك نت الجديدة
                    ...quickNetPlansData.map((p, i) => ({ ...p, type: 'quicknet', index: i, bgColor: `linear-gradient(135deg, ${['#ff4757', '#ffa500', '#2ed573'][i % 3]}, #eb3b5b)` }))
                ];

                const comparisonSelectors = document.querySelectorAll("#custom-plan1 .select-items, #custom-plan2 .select-items");

                comparisonSelectors.forEach(selectItems => {
                    selectItems.innerHTML = ''; // مسح الخيارات الحالية
                    
                    // إضافة خيارات جديدة
                    allPlans.forEach(p => {
                        const option = document.createElement("div");
                        option.className = "option";
                        option.textContent = p.name;
                        option.dataset.price = p.price;
                        option.dataset.index = p.index;
                        option.dataset.type = p.type;
                        option.style.background = p.bgColor;
                        selectItems.appendChild(option);
                    });
                });
            }

            // توليد الخيارات في قوائم المقارنة عند التحميل
            populateComparisonOptions();


            // تبديل الوضع الليلي / النهاري
            const modeToggleBtn = document.getElementById('mode-toggle');
            const body = document.body;

            modeToggleBtn.addEventListener('click', () => {
                body.classList.toggle('light-mode');

                // تغيير الأيقونة مع حركة بسيطة
                if (body.classList.contains('light-mode')) {
                    modeToggleBtn.textContent = '🌞';
                    modeToggleBtn.style.color = '#f39c12'; // لون أصفر للشمس
                } else {
                    modeToggleBtn.textContent = '🌙';
                    modeToggleBtn.style.color = '#d1a5f7'; // لون القمر الأرجواني
                }
            });


            // تخصيص القوائم المخصصة الجديدة
            const selected1 = document.querySelector("#custom-plan1 .select-selected");
            const optionsContainer1 = document.querySelector("#custom-plan1 .select-items");
            // استماع لحدث النقر على الخيارات بعد توليدها ديناميكيًا
            optionsContainer1.addEventListener('click', (e) => {
                const option = e.target.closest('.option');
                if (option) {
                    selected1.textContent = option.textContent;
                    selected1.dataset.index = option.dataset.index;
                    selected1.dataset.type = option.dataset.type;
                    optionsContainer1.classList.add("select-hide");
                    updateComparisonFromCustom();
                }
            });


            const selected2 = document.querySelector("#custom-plan2 .select-selected");
            const optionsContainer2 = document.querySelector("#custom-plan2 .select-items");
            optionsContainer2.addEventListener('click', (e) => {
                const option = e.target.closest('.option');
                if (option) {
                    selected2.textContent = option.textContent;
                    selected2.dataset.index = option.dataset.index;
                    selected2.dataset.type = option.dataset.type;
                    selected2.dataset.price = option.dataset.price;
                    optionsContainer2.classList.add("select-hide");
                    updateComparisonFromCustom();
                }
            });

            selected1.addEventListener("click", () => {
                optionsContainer1.classList.toggle("select-hide");
                optionsContainer2.classList.add("select-hide"); // إغلاق الأخرى
            });

            selected2.addEventListener("click", () => {
                optionsContainer2.classList.toggle("select-hide");
                optionsContainer1.classList.add("select-hide"); // إغلاق الأخرى
            });

            document.addEventListener("click", (e) => {
                if (!e.target.closest(".custom-select")) {
                    optionsContainer1.classList.add("select-hide");
                    optionsContainer2.classList.add("select-hide");
                }
            });


            // ***************************************************************
            // وظيفة المقارنة الموحدة (مُحدَّثة)
            // ***************************************************************
            function updateComparisonFromCustom() {
                const index1 = parseInt(selected1.dataset.index);
                const type1 = selected1.dataset.type;
                const index2 = parseInt(selected2.dataset.index);
                const type2 = selected2.dataset.type;

                // إذا لم يتم اختيار باقتين أو تم اختيار نفس الباقة ونفس النوع
                if (isNaN(index1) || isNaN(index2) || (index1 === index2 && type1 === type2)) {
                    document.getElementById('comparison-table').innerHTML = '';
                    return;
                }

                // الحصول على بيانات الباقة الأولى
                let p1;
                if (type1 === 'postpaid') {
                    p1 = postpaidPlansData[index1];
                } else if (type1 === 'mobile') {
                    p1 = mobilePlansData[index1];
                } else if (type1 === 'quicknet') { // **الحالة الجديدة: كويك نت**
                    p1 = quickNetPlansData[index1];
                }

                // الحصول على بيانات الباقة الثانية
                let p2;
                if (type2 === 'postpaid') {
                    p2 = postpaidPlansData[index2];
                } else if (type2 === 'mobile') {
                    p2 = mobilePlansData[index2];
                } else if (type2 === 'quicknet') { // **الحالة الجديدة: كويك نت**
                    p2 = quickNetPlansData[index2];
                }

                if (!p1 || !p2) return; // تأكد من وجود الباقات

                // دمج جميع الميزات الفريدة
                const allFeatures = Array.from(new Set([...p1.details, ...p2.details]));

                let table = `<table style="width: 100%; border-collapse: collapse; font-size: 24px; text-align: center;">
                    <thead>
                        <tr style="background-color: #5a2483; color: white;">
                            <th style="padding: 15px;">الميزة</th>
                            <th style="padding: 15px;">${p1.name}<br><span style="font-size: 25px;">${p1.price} ريال</span></th>
                            <th style="padding: 15px;">${p2.name}<br><span style="font-size: 25px;">${p2.price} ريال</span></th>
                        </tr>
                    </thead>
                    <tbody>`
                allFeatures.forEach(f => {
                    const has1 = p1.details.includes(f);
                    const has2 = p2.details.includes(f);
                    table += `<tr style="background: linear-gradient(90deg, #5a2483, #9b4dad); color: white;">
                        <td style="padding: 12px;">${f}</td>
                        <td style="padding: 12px;">${has1 ? '✔️' : '❌'}</td>
                        <td style="padding: 12px;">${has2 ? '✔️' : '❌'}</td>
                    </tr>`;
                });
                table += `</tbody></table>`;
                document.getElementById('comparison-table').innerHTML = table;
            }

            // -----------------------------------------------------------------
            // منطق التنقل بين الأقسام (المفوتر، الهاتف، المقارنة، كويك نت) (مُحدَّث)
            // -----------------------------------------------------------------

            const plansSection = document.getElementById('plans-section');
            const mobilePlansSection = document.getElementById('mobile-plans-section');
            const comparisonSection = document.getElementById('comparison-section');
            const quickNetSection = document.getElementById('quick-net-section'); // القسم الجديد

            const showPlansBtn = document.getElementById('show-plans-btn');
            const showMobilePlansBtn = document.getElementById('show-mobile-plans-btn');
            const showComparisonBtn = document.getElementById('show-comparison-btn');
            const showQuickNetBtn = document.getElementById('show-quick-net-btn'); // الزر الجديد

            // وظيفة إخفاء جميع الأقسام وتلوين زر واحد
            function showSection(sectionToShow, activeBtn) {
                // إخفاء الكل
                plansSection.style.display = 'none';
                mobilePlansSection.style.display = 'none';
                comparisonSection.style.display = 'none';
                quickNetSection.style.display = 'none'; // إخفاء القسم الجديد

                // إظهار المطلوب
                sectionToShow.style.display = 'block';

                // إعادة تعيين ألوان الأزرار (تحديث قائمة الأزرار)
                [showPlansBtn, showMobilePlansBtn, showComparisonBtn, showQuickNetBtn].forEach(btn => {
                    btn.style.backgroundColor = '#6D3687'; // اللون الافتراضي (بنفسجي)
                });

                // تلوين الزر النشط
                activeBtn.style.backgroundColor = '#E68D10'; // لون البرتقالي النشط

                // إذا كان القسم هو المقارنة، فسنقوم بإعادة توليد الخيارات لضمان تحديثها
                if (sectionToShow === comparisonSection) {
                    populateComparisonOptions();
                }
            }

            // ربط الأحداث
            showPlansBtn.addEventListener('click', () => {
                showSection(plansSection, showPlansBtn);
            });

            showMobilePlansBtn.addEventListener('click', () => {
                generatePlanCards(mobilePlansData, "mobile-plans-container", "mobile"); // توليد البطاقات لأول مرة
                showSection(mobilePlansSection, showMobilePlansBtn);
            });

            showComparisonBtn.addEventListener('click', () => {
                showSection(comparisonSection, showComparisonBtn);
            });

            // ربط زر كويك نت المفوترة
            showQuickNetBtn.addEventListener('click', () => {
                generatePlanCards(quickNetPlansData, "quick-net-container", "quicknet"); // توليد البطاقات
                showSection(quickNetSection, showQuickNetBtn);
            });

            // تفعيل قسم المفوتر افتراضيًا عند تحميل التطبيق بنجاح
            showPlansBtn.click();
        });

    </script>
</body>
</html>
